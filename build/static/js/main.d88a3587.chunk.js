(window.webpackJsonphack_dep=window.webpackJsonphack_dep||[]).push([[0],{164:function(e,t,n){e.exports=n(262)},262:function(e,t,n){"use strict";n.r(t);n(165),n(191),n(193),n(194),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233);var a=n(23),r=n.n(a),c=n(99),s=n(0),o=n.n(s),i=n(28),u=n.n(i),l=(n(36),n(98)),d=n.n(l),p=(n(90),n(18));n(93),n(66),n(97),n(67),n(94),n(96),n(95);var m=function(){return o.a.createElement(d.a,{activePanel:"main"},o.a.createElement(p.d,{id:"main"},o.a.createElement(p.e,null,"\u041f\u043e\u043a\u0440\u0438\u0447\u0438 \u0432 \u043f\u043e\u0434\u0443\u0448\u043a\u0443"),o.a.createElement(p.c,{title:"buttons"},o.a.createElement("div",null,o.a.createElement(p.a,{id:"rec"},"start"),o.a.createElement(p.a,{id:"stop"},"stop"))),o.a.createElement(p.c,null,o.a.createElement(p.b,{align:"center"},"\u0412\u044b\u0433\u043e\u0432\u043e\u0440\u0438\u0441\u044c \u0432 \u043f\u043e\u0434\u0443\u0448\u043a\u0443 \u0432 \u043a\u043e\u043d\u0446\u0435 \u0434\u043d\u044f")),o.a.createElement(p.b,{id:"text1",align:"center"},"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0430\u0435\u0442 \u0432\u0430\u0448\u0443 \u0440\u0435\u0447\u044c, \u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435 \u0438 \u0435\u0441\u043b\u0438 \u043e\u043d\u043e \u043f\u043b\u043e\u0445\u043e\u0435, \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442 \u043a\u0430\u043a \u0435\u0433\u043e \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c."),o.a.createElement("img",{id:"talk"}),o.a.createElement(p.c,null,o.a.createElement("img",{id:"image",src:"/podushka.png",width:"100%"})),o.a.createElement(p.c,null,o.a.createElement(p.a,{id:"play_pause"},"\u041f\u0440\u043e\u0441\u043b\u0443\u0448\u0430\u0442\u044c"),o.a.createElement(p.a,{id:"ff"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))};u.a.render(o.a.createElement(m,null),document.getElementById("root"));var f,g,h=function(e){var t=function(e,t){for(var n=new Float32Array(t),a=0,r=0;r<e.length;r++){var c=e[r];n.set(c,a),a+=c.length}return n},n=function(e,t,n){for(var a=0;a<n.length;a++)e.setUint8(t+a,n.charCodeAt(a))},a=function(e,t){for(var n=e.length+t.length,a=new Float32Array(n),r=0,c=0;c<n;)a[c++]=e[r],a[c++]=t[r],r++;return a},s=function(e){var t=e.volume,a=e.samples,r=e.channels,c=e.sampleRate,s=new ArrayBuffer(44+2*a.length),o=new DataView(s);n(o,0,"RIFF"),o.setUint32(4,44+2*a.length,!0),n(o,8,"WAVE"),n(o,12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,r,!0),o.setUint32(24,c,!0),o.setUint32(28,c*(2*r),!0),o.setUint16(32,4,!0),o.setUint16(34,16,!0),n(o,36,"data"),o.setUint32(40,2*a.length,!0);for(var i=44,u=0;u<a.length;u++)o.setInt16(i,a[u]*(32767*t),!0),i+=2;return o},o={volume:1,channels:1,bufferSize:2048,sampleRate:44100};return e.start=function(){var e,t,n,a,s,i,u,l,d,p,m,f=arguments;return r.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:return e=f.length>0&&void 0!==f[0]?f[0]:{},t=Object(c.a)({},o,{},e),n=t.volume,a=t.channels,s=t.bufferSize,i=t.sampleRate,u={channelData:[],recordingLength:0},g.next=5,r.a.awrap(navigator.mediaDevices.getUserMedia({audio:!0}));case 5:return l=g.sent,d=new AudioContext,p=d.createMediaStreamSource(l),(m=d.createScriptProcessor(s,a,a)).onaudioprocess=function(e){for(var t=0;t<a;t++){var n=new Float32Array(e.inputBuffer.getChannelData(t));u.channelData[t]?u.channelData[t].push(n):u.channelData[t]=[n]}u.recordingLength+=s},p.connect(m),m.connect(d.destination),g.abrupt("return",{state:u,volume:n,context:d,recorder:m,sampleRate:i,mediaStream:p});case 13:case"end":return g.stop()}}))},e.stop=function(e){var n,c,o,i,u,l,d,p,m,f,g;return r.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return n=e.state,c=n.channelData,o=n.recordingLength,i=e.volume,u=e.context,l=e.recorder,d=e.sampleRate,p=e.mediaStream,l.disconnect(u.destination),p.disconnect(l),h.next=5,r.a.awrap(u.close());case 5:return m=t(c[0],o),f=2===c.length?a(m,t(c[1],o)):m,g=s({volume:i,samples:f,channels:c.length,sampleRate:d}),h.abrupt("return",new Blob([g],{type:"audio/wav"}));case 9:case"end":return h.stop()}}))},e}({}),v=document.getElementById("rec"),w=document.getElementById("stop"),E=document.getElementById("play_pause"),b=document.getElementById("ff"),y=document.getElementById("image"),k=(document.getElementById("text1"),document.getElementById("talk")),x=!1;y.addEventListener("click",(function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==x){e.next=8;break}return e.next=3,r.a.awrap(h.start());case 3:return g=e.sent,k.setAttribute("src","talk.gif"),y.setAttribute("src","/podushka_2.png"),x=!0,e.abrupt("return");case 8:if(g){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,r.a.awrap(h.stop(g));case 12:f=e.sent,g=null,y.setAttribute("src","/podushka.png"),x=!1,k.setAttribute("src","");case 17:case"end":return e.stop()}}))})),v.addEventListener("click",(function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(h.start());case 2:g=e.sent,y.setAttribute("src","/podushka_2.png");case 4:case"end":return e.stop()}}))})),w.addEventListener("click",(function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.a.awrap(h.stop(g));case 4:f=e.sent,g=null,y.setAttribute("src","/podushka.png");case 7:case"end":return e.stop()}}))})),E.addEventListener("click",(function(){if(f){var e=window.URL.createObjectURL(f);new Audio(e).play()}})),b.addEventListener("click",(function(){if(f){var e=new FormData;e.append("soundBlob",f,"filetosave1.wav");console.log(123);var t=new XMLHttpRequest;t.open("POST","http://95.183.8.189:5000/upload",!0,"root","aVsqBbYmp4"),t.setRequestHeader("Content-Type","multipart/form-data"),t.onreadystatechange=function(){4===t.readyState&&(console.log("onreadystatechange  "+t.readyState),y.setAttribute("src","http://95.183.8.189:5000/get_image"))},t.onload=function(){console.log(this.status)},t.onerror=function(){console.log("error"+this.status)},t.send(e),console.log(1245663),console.log(t.readyState)}}))}},[[164,1,2]]]);
//# sourceMappingURL=main.d88a3587.chunk.js.map